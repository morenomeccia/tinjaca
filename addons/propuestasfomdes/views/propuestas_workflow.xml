<openerp>
    <data>
        <record model="workflow" id="wkf_propuestas">
            <field name="name">Evaluacion de propuestas</field>
            <field name="osv">propuestasfomdes.propuestas</field>
            <field name="on_create">True</field>
        </record>

		<!-- ***************** Actividades ********************* -->

        <record model="workflow.activity" id="activity_estacion_1_propuesta_recibida">
            <field name="name">Estacion Propuesta recibida</field>
            <field name="wkf_id" ref="wkf_propuestas"/>
            <field name="flow_start">True</field>
            <field name="kind">function</field>
            <field name="action">action_estacion_propuesta_recibida()</field>
        </record>
        <record model="workflow.activity" id="activity_estacion_2_taller">
            <field name="name">Estacion Taller</field>
            <field name="wkf_id" ref="wkf_propuestas"/>
            <field name="kind">function</field>
            <field name="action">action_estacion_taller()</field>
        </record>
        <record model="workflow.activity" id="activity_estacion_3_creacion_expediente">
            <field name="name">Estacion Crear Expediente</field>
            <field name="wkf_id" ref="wkf_propuestas"/>
            <field name="kind">function</field>
            <field name="action">action_estacion_creacion_expediente()</field>
        </record>

		<!-- ***************** Transiciones ********************* -->

        <!-- Cambio de estacion (boton)" -->
        <record model="workflow.transition" id="trans_consignacion_requisitos_a_control_previo">
            <field name="act_from" ref="activity_estacion_consignacion_requisitos"/>
            <field name="act_to" ref="activity_estacion_control_previo"/>
            <field name="signal">button_enviar_control_previo</field>
            <field name="group_id" ref="fomdes.group_analista_credito"/>
        </record>
        <!-- Cambio de estacion (boton)" -->
        <record model="workflow.transition" id="trans_control_previo_a_inspeccion_avaluo">
            <field name="act_from" ref="activity_estacion_control_previo"/>
            <field name="act_to" ref="activity_estacion_inspeccion_avaluo"/>
            <field name="signal">button_enviar_inspeccion_avaluo</field>
            <field name="group_id" ref="fomdes.group_analista_juridico"/>
        </record>
        <!-- Cambio de estacion (boton)" -->
        <record model="workflow.transition" id="trans_inspeccion_avaluo_a_evaluacion_gerente">
            <field name="act_from" ref="activity_estacion_inspeccion_avaluo"/>
            <field name="act_to" ref="activity_estacion_evaluacion_gerente"/>
            <field name="signal">button_enviar_gerente_credito</field>
            <field name="group_id" ref="fomdes.group_analista_economico"/>
        </record>
		<!-- Cambio de estacion (boton)" -->
        <record model="workflow.transition" id="trans_evaluacion_gerente_a_evaluacion_presidencia">
            <field name="act_from" ref="activity_estacion_evaluacion_gerente"/>
            <field name="act_to" ref="activity_estacion_evaluacion_presidencia"/>
            <field name="signal">button_aceptar_gerente</field>
            <field name="group_id" ref="fomdes.group_gerente_credito"/>
        </record>
		<!-- Cambio de estacion (boton)" -->
        <record model="workflow.transition" id="trans_evaluacion_presidencia_a_discusion_consejo">
            <field name="act_from" ref="activity_estacion_evaluacion_presidencia"/>
            <field name="act_to" ref="activity_estacion_discusion_consejo"/>
            <field name="signal">button_recomendar_presidente</field>
            <field name="group_id" ref="fomdes.group_presidente"/>
        </record>
		<!-- Cambio de estatus (boton)" -->
        <record model="workflow.transition" id="trans_discusion_consejo_a_aprobado_consejo">
            <field name="act_from" ref="activity_estacion_discusion_consejo"/>
            <field name="act_to" ref="activity_estatus_aprobado_consejo"/>
            <field name="signal">button_aprobar_consejo</field>
            <field name="group_id" ref="fomdes.group_secretaria_ejecutiva"/>
        </record>
		<!-- Cambio de estatus (boton)" -->
        <record model="workflow.transition" id="trans_discusion_consejo_a_negado_consejo">
            <field name="act_from" ref="activity_estacion_discusion_consejo"/>
            <field name="act_to" ref="activity_estatus_negado_consejo"/>
            <field name="signal">button_rechazar_consejo</field>
            <field name="group_id" ref="fomdes.group_secretaria_ejecutiva"/>
        </record>
        <!-- Cambio de estatus (boton)" -->
        <record model="workflow.transition" id="trans_discusion_consejo_a_diferido_consejo">
            <field name="act_from" ref="activity_estacion_discusion_consejo"/>
            <field name="act_to" ref="activity_estatus_diferido_consejo"/>
            <field name="signal">button_diferir_consejo</field>
            <field name="group_id" ref="fomdes.group_secretaria_ejecutiva"/>
        </record>
        <!-- Cambio de estacion (auto)" -->
        <record model="workflow.transition" id="trans_aprobado_consejo_a_creacion_documentos">
            <field name="act_from" ref="activity_estatus_aprobado_consejo"/>
            <field name="act_to" ref="activity_estacion_creacion_documentos"/>
            <field name="condition">True</field>
            <field name="group_id" ref="fomdes.group_secretaria_ejecutiva"/>
        </record>
		<!-- Cambio de estacion (auto)" -->
        <record model="workflow.transition" id="trans_negado_consejo_a_evaluacion_gerente">
            <field name="act_from" ref="activity_estatus_negado_consejo"/>
            <field name="act_to" ref="activity_estacion_evaluacion_gerente"/>
            <field name="condition">True</field>
            <field name="group_id" ref="fomdes.group_secretaria_ejecutiva"/>
        </record>
        <!-- Cambio de estacion (auto)" -->
        <record model="workflow.transition" id="trans_diferido_consejo_a_evaluacion_gerente">
            <field name="act_from" ref="activity_estatus_diferido_consejo"/>
            <field name="act_to" ref="activity_estacion_evaluacion_gerente"/>
            <field name="condition">True</field>
            <field name="group_id" ref="fomdes.group_secretaria_ejecutiva"/>
        </record>
        <!-- Cambio de estacion (boton)" -->
        <record model="workflow.transition" id="trans_creacion_documentos_a_liquidacion">
            <field name="act_from" ref="activity_estacion_creacion_documentos"/>
            <field name="act_to" ref="activity_estacion_liquidacion"/>
            <field name="signal">button_enviar_liquidacion</field>
            <field name="group_id" ref="fomdes.group_secretaria_ejecutiva"/>
        </record>
    </data>
</openerp>
